campaignTrail_temp.election_json = JSON.parse("[{\"model\": \"campaign_trail.election\", \"pk\": 11, \"fields\": {\"year\": 2003, \"summary\": \"<p>In May 2002, Pim Fortuyn's stormy rise in the Dutch political scene was cut short by his tragic assassination. In the election, his 'Pim Fortuyn List' became the second party of the country in its first election and entered the cabinet. That was the starting shot for 80 days of LPF infighting and chaos, until CDA and VVD finally had enough.</p><li>CDA and VVD seek a combined majority to implement the cabinet's plans without the LPF.</li><li>The PvdA needs to hold that outcome off if they are to force the CDA into cooperation.</li><li>The SP wants to harness the discontent uncovered by Fortuyn for the left instead of the right.</li>\", \"image_url\": \"https://i.imgur.com/Tzq0q7n.png\", \"winning_electoral_vote_number\": 76, \"advisor_url\": \"https://i.imgur.com/UkN1eNS.png\", \"recommended_reading\": \"<h1>Thank you for playing 2003 Netherlands!</h1>\", \"has_visits\": 0, \"no_electoral_majority_image\": \"https://i.imgur.com/48tvIqS.png\"}}]");

  campaignTrail_temp.candidate_json = JSON.parse("[{\"model\": \"campaign_trail.candidate\", \"pk\": 105, \"fields\": {\"first_name\": \"\", \"last_name\": \"CDA\", \"election\": 11, \"party\": \"Christian-Democratic Appeal\", \"state\": \"-\", \"priority\": 2, \"description\": \"<li><b>Abbreviation: CDA</b></li><li><b>Name: Christen-Democratisch App√®l</b></li><li><b>Ideology: Christian democracy</b></li><p>The Christian Democratic Appeal is the epitome of so-called confessional politics. Following its official creation in 1980, it towered above the political landscape as the unavoidable juggernaut that its Christian predecessors had been throughout the 20th century. In 1994, however, its power was broken, when the PvdA and VVD, traditionally vying for alliance with the CDA against each other, locked the party out of governance. Only this year, under the disruptive influence of the late Pim Fortuyn, the CDA has reassumed its traditional position, and formed a cabinet with a decapitated LPF and a diminished VVD.</p><p>No sooner did the cabinet form or the problems already started. The 'cowboys' of the LPF, with little in common besides having been selected by a dead man, started infighting, soiling Fortuyn's legacy in the process. To the CDA now the task of proving that its renaissance didn't die with the LPF.</p>\", \"color_hex\": \"#0E644A\", \"secondary_color_hex\": \"#599C5F\", \"is_active\": 1, \"image_url\": \"https://i.imgur.com/ueipREc.png\", \"electoral_victory_message\": \"<h3>Congratulations! You have won the 2025 General Election.</h3><p>Wow...</p>\", \"electoral_loss_message\": \"<h3>Sorry, you have lost the 2002 General Elections.</h3><p>Someone has won a majority? Something has gone wrong, or you did not select proportional.</p>\", \"no_electoral_majority_message\": \"<h3>Welcome to NOS Nederland Kiest.</h3><p>How did you do?</p>\", \"description_as_running_mate\": \"'\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 17, \"fields\": {\"first_name\": \"\", \"last_name\": \"PvdA\", \"election\": 11, \"party\": \"Labour Party\", \"state\": \"-\", \"priority\": 2, \"description\": \"<li><b>Abbreviation: PvdA</b></li><li><b>Name: Partij van de Arbeid</b></li><li><b>Ideology: Social democracy</b></li><p>The Dutch Labour Party is the principal force of the Dutch political left and was, until last May, the largest party in the country.</p><p>The 'crown prince' of former Prime Minister Wim Kok, Ad Melkert, met his match in the insurgent Pim Fortuyn, who bent the perception that eight years of Purple governance with the VVD had been a success into that of a farce. Days before the election, however, according to many one he would otherwise have won, Fortuyn was tragically murdered, and the PvdA, which according to those left behind in the LPF contributed to the murder by demonizing Fortuyn, was battered. By now, Melkert is on the plane to Washington DC, riding out the storm as an executive director in the world bank.</p><p>The PvdA's gameplan was to slowly recover from the catastrophe leading the opposition against a staunchly right-wing cabinet, but now, just 80 days later, the cabinet already fell apart. The PvdA does not even have a new leader yet. Is this election too early for the PvdA?</p>\", \"color_hex\": \"#D90000\", \"secondary_color_hex\": \"#CC6868\", \"is_active\": 1, \"image_url\": \"https://i.imgur.com/XvacZon.png\", \"electoral_victory_message\": \"<h3>Congratulations! You have won the 2025 General Election.</h3><p>Wow...</p>\", \"electoral_loss_message\": \"<h3>Sorry, you have lost the 2002 General Elections.</h3><p>Someone has won a majority? Something has gone wrong, or you did not select proportional.</p>\", \"no_electoral_majority_message\": \"<h3>Welcome to NOS Nederland Kiest.</h3><p>How did you do?</p>\", \"description_as_running_mate\": \"'\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 21, \"fields\": {\"first_name\": \"\", \"last_name\": \"GroenLinks\", \"election\": 11, \"party\": \"-\", \"state\": \"-\", \"priority\": 7, \"description\": \"'\", \"color_hex\": \"#39A935\", \"secondary_color_hex\": \"#78A875\", \"is_active\": 0, \"image_url\": \"'\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"'\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 67, \"fields\": {\"first_name\": \"\", \"last_name\": \"SP\", \"election\": 11, \"party\": \"-\", \"state\": \"-\", \"priority\": 8, \"description\": \"<li><b>Abbreviation: SP</b></li><li><b>Name: Socialistische Partij</b></li><li><b>Ideology: Democratic socialism</b></li><p>The Socialist Party started out as a fringe Maoist party in the 70s, consistently short of the threshold of a single seat on the national level throughout the eigthies. Instead, the party focused on building a network of local parties, gaining representation in several municipalities, most notably in Oss, and the provincial council of Noord-Brabant.</p><p>In 1994, the SP finally found its way into the Tweede Kamer, possibly due to the PvdA's increasingly strong lean to the center making an unfalsified left-wing message appealing.</p><p>In 1998 the SP was rewarded by the voter for its opposition activities against the third-way Purple cabinet of the PvdA, VVD and D66, and in 2002, it benefitted from the same type of outsider appeal as Fortuyn, albeit from the left. The SP is definitely on the way up. But thus far it has unmistakenly been a small chess piece on the broader board. Fortuyn has shown the way however, for an outsider to benefit from latent discontent with the status-quo.</p>\", \"color_hex\": \"#450101\", \"secondary_color_hex\": \"#7A4E4E\", \"is_active\": 1, \"image_url\": \"https://i.imgur.com/ThJHHBi.png\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"'\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 106, \"fields\": {\"first_name\": \"\", \"last_name\": \"LPF\", \"election\": 11, \"party\": \"Lijst Pim Fortuyn\", \"state\": \"-\", \"priority\": 3, \"description\": \"'\", \"color_hex\": \"#DBD000\", \"secondary_color_hex\": \"#D3D886\", \"is_active\": 0, \"image_url\": \"\", \"electoral_victory_message\": \"<h3>Congratulations! You have won the 2025 General Election.</h3><p>Ontwaakt!</p>\", \"electoral_loss_message\": \"<h3>Sorry, you have lost the 2025 General Elections.</h3><p>Someone has won a majority? Something has gone wrong, or you did not select proportional.</p>\", \"no_electoral_majority_message\": \"<h3>Welcome to NOS Nederland Stemt.</h3><p>How did you do? Did the LPF win the most seats?</p>\", \"description_as_running_mate\": \"'\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 23, \"fields\": {\"first_name\": \"\", \"last_name\": \"VVD\", \"election\": 11, \"party\": \"Volkspartij voor Vrijheid en Democratie\", \"state\": \"-\", \"priority\": 4, \"description\": \"<li><b>Abbreviation: VVD</b></li><li><b>Name: Volkspartij voor Vrijheid en Democratie</b></li><li><b>Ideology: Conservative liberalism</b></li><p>Since its founding in 1948, the People's Party for Freedom and Democracy has served as the principal liberal and right-wing party of the Netherlands, participating in government under a series of confessional prime ministers until 1989.</p><p>In 1994, the Christian democrats were subverted, when the VVD stood them up and made a deal with the PvdA. In 1998, this translated itself into the VVD becoming larger than the CDA for the first time, and the prospect of a liberal prime minister, for the first time since 1917, seemed close. But then, in 2002, Pim Fortuyn rose from nowhere, pointed out where Purple fell short, and took off with the VVD's voters. Those voters did not come back after he was shot.</p><p>Nonetheless, the VVD was necessary to get the CDA and LPF to a majority, and the VVD reluctantly accepted the responsibility to govern. With the failure of that experiment, perhaps the VVD can reveal itself as the party to deliver the right-wing policy that the Netherlands wants but the LPF cannot deliver?</p>\", \"color_hex\": \"#120A8F\", \"secondary_color_hex\": \"#3C378C\", \"is_active\": 1, \"image_url\": \"https://i.imgur.com/H40QVP1.png\", \"electoral_victory_message\": \"<h3>Congratulations! You have won the 2053 General Election.</h3>\", \"description_as_running_mate\": \"'\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 16, \"fields\": {\"first_name\": \"\", \"last_name\": \"D66\", \"election\": 11, \"party\": \"-\", \"state\": \"-\", \"priority\": 5, \"description\": \"'\", \"color_hex\": \"#32CD32\", \"secondary_color_hex\": \"#84CF84\", \"is_active\": 0, \"image_url\": \"'\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"'\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 108, \"fields\": {\"first_name\": \"Jan Peter\", \"last_name\": \"Balkenende\", \"election\": 11, \"party\": \"CDA\", \"state\": \"Zeeland\", \"priority\": 4, \"description\": \"'\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"https://i.imgur.com/9xI6PT6.png\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>Jan Peter Balkenende is the incumbent prime minister, currently at day 83 of his job. His coalition with the populist LPF (whose leader was shot nine days before the election) and the VVD has just collapsed, so he will be spending his 100th day campaigning to keep it. Balkenende began his career in the municipal politics of Amstelveen and made the jump to national politics in 1998.</p><p>From there, his career took off: in 2001 he became the new leader of the CDA as a compromise candidate between previous leader Jaap de Hoop Scheffer and party chairman Marnix van Rij. Then in 2002, his message of decency and moderate anti-Purple politics took root, especially after a poisonous political atmosphere that translated in the assassination of Pim Fortuyn.</p><p>Balkenende's polling position is rosy, but his position is nonetheless tenuous: he enters another election as the prime minister of a cabinet that fell in on itself so quickly it has no achievements. It will be up to him to show that his victory was, in fact, not a fluke caused by the extraordinary circumstances of 2002.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 109, \"fields\": {\"first_name\": \"Jeltje\", \"last_name\": \"van Nieuwenhoven\", \"election\": 11, \"party\": \"PvdA\", \"state\": \"Frysl√¢n\", \"priority\": 5, \"description\": \"'\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"https://i.imgur.com/WWQwCyC.png\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>Jeltje van Nieuwenhoven is a PvdA veteran: she has served as an MP since 1981 with only a short intermission in 1982/1983. Between 1998 and 2002, she served as the speaker of the Tweede Kamer. Following the dramatic, derailed election night of May 2002, Van Nieuwenhoven was selected <i>ad interim</i> to replace the disgraced Ad Melkert, who already on the night itself announced his intention to vacate his position, likely an inevitability.</p><p>From here, the plan was to slowly but steadily rebuild the party, but history had other plans: the cabinet collapsed and an election is coming soon. The PvdA has not even elected a new national face yet. Van Nieuwenhoven will have to steady the ship to make sure the party is ready.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 112, \"fields\": {\"first_name\": \"Jan\", \"last_name\": \"Marijnissen\", \"election\": 11, \"party\": \"SP\", \"state\": \"Noord-Brabant\", \"priority\": 9, \"description\": \"'\", \"color_hex\": \"#B56B21\", \"secondary_color_hex\": \"#DE9B59\", \"is_active\": 0, \"image_url\": \"https://i.imgur.com/rCPHk0p.png\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>Johannes Guillaume Christianus Andreas Marijnissen, better known as 'Jan' started his professional life as a factory worker and was involved with the SP since its earliest days. During a spontaneous strike in 1973 he quit to focus fully on the party. In 1976 he entered the municipal council of Oss as the youngest councillor in the Netherlands at 23 years old, which he would stay until 1993 to focus on his national activities. In 1987, he became a member of the provincial council of Noord-Brabant and in 1989 he was selected to lead the SP on the national level, at which point he failed to win a seat. This changed in 1994 when he secured two seats for the party in the Tweede Kamer, and the rest is history.</p><p>The SP has been slowly growing since. Perhaps Jan can harness the storm of discontent laid bare by the late Pim Fortuyn? Or did the Netherlands really become so much more right-wing?</p>\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 514, \"fields\": {\"first_name\": \"Gerrit\", \"last_name\": \"Zalm\", \"election\": 11, \"party\": \"VVD\", \"state\": \"Zuid-Holland\", \"priority\": 8, \"description\": \"'\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"https://i.imgur.com/VvjB9kZ.png\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>Gerrit Zalm was the VVD's Minister of Finance during the purple Kok cabinets, where he has been praised for his responsible use of state resources, which leads him to share in the credit for the economic boom of the past few years. He is also known for his 'Zalmnorm', which entails that economic windfalls are not to be used for extra expenditures but to reduce the deficit. Use of this standard has ensured that the Dutch sovereign debt has fallen dramatically in the past few years.</p><p>Before Zalm became Minister of Finance, he was the director of the 'Centraal Plan Bureau', a non-political (civil servant) post which analyzes and forecasts national economic developments, which nevertheless came with substantial influence on policy.</p><p>Last election, the VVD hoped to cash in Zalm's popularity, but that didn't pan out, due to Fortuyn. With Dijkstal out, Zalm has taken over. Can he restore the fortunes of the VVD?</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 78, \"fields\": {\"first_name\": \"\", \"last_name\": \"CU\", \"election\": 11, \"party\": \"-\", \"state\": \"-\", \"priority\": 12, \"description\": \"'\", \"color_hex\": \"#9AEFF5\", \"secondary_color_hex\": \"#BEF6FA\", \"is_active\": 0, \"image_url\": \"'\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"'\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 512, \"fields\": {\"first_name\": \"\", \"last_name\": \"Newcomers/others\", \"election\": 11, \"party\": \"-\", \"state\": \"-\", \"priority\": 19, \"description\": \"'\", \"color_hex\": \"#000000\", \"secondary_color_hex\": \"#A8A8A8\", \"is_active\": 0, \"image_url\": \"'\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"'\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 117, \"fields\": {\"first_name\": \"\", \"last_name\": \"SGP\", \"election\": 11, \"party\": \"-\", \"state\": \"-\", \"priority\": 18, \"description\": \"'\", \"color_hex\": \"#B56B21\", \"secondary_color_hex\": \"#DE9B59\", \"is_active\": 0, \"image_url\": \"'\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"'\", \"candidate_score\": 1.0}}]");
  campaignTrail_temp.running_mate_json = JSON.parse("[{\"model\": \"campaign_trail.running_mate\", \"pk\": 68, \"fields\": {\"candidate\": 105, \"running_mate\": 108}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 69, \"fields\": {\"candidate\": 17, \"running_mate\": 109}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 72, \"fields\": {\"candidate\": 67, \"running_mate\": 112}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 73, \"fields\": {\"candidate\": 23, \"running_mate\": 514}}]");
  campaignTrail_temp.opponents_default_json = JSON.parse("[{\"election\": 11, \"candidates\": [16, 17, 105, 106, 23, 21, 67, 78, 512, 117]}]");
  campaignTrail_temp.opponents_weighted_json = JSON.parse("[{\"election\": 21, \"candidates\": [300, 301, 302, 303]},{\"election\": 20, \"candidates\": [201, 200, 202, 203]},{\"election\": 16, \"candidates\": [165, 166, 167, 168]},{\"election\": 3, \"candidates\": [16, 17, 18, 19]},{\"election\": 9, \"candidates\": [78, 77, 79, 80]},{\"election\": 15, \"candidates\": [153, 152, 154, 155]},{\"election\": 10, \"candidates\": [91, 92, 93]},{\"election\": 4, \"candidates\": [24, 23, 25]},{\"election\": 11, \"candidates\": [105, 106, 16]},{\"election\": 12, \"candidates\": [116, 117, 118, 119]},{\"election\": 14, \"candidates\": [142, 143, 144, 145]},{\"election\": 5, \"candidates\": [21, 20, 22]},{\"election\": 8, \"candidates\": [68, 67, 69, 70]},{\"election\": 13, \"candidates\": [131, 134, 132, 133]}]");        
  campaignTrail_temp.difficulty_level_json = JSON.parse("[{\"model\": \"campaign_trail.difficulty_level\", \"pk\": 1, \"fields\": {\"name\": \"Eitje\", \"multiplier\": 1.33}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 2, \"fields\": {\"name\": \"Very Easy\", \"multiplier\": 1.2}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 3, \"fields\": {\"name\": \"Easy\", \"multiplier\": 1.1}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 4, \"fields\": {\"name\": \"Normal\", \"multiplier\": 0.97}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 5, \"fields\": {\"name\": \"Hard\", \"multiplier\": 0.95}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 6, \"fields\": {\"name\": \"Impossible\", \"multiplier\": 0.9}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 7, \"fields\": {\"name\": \"1953\", \"multiplier\": 0.83}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 8, \"fields\": {\"name\": \"1672\", \"multiplier\": 0.75}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 9, \"fields\": {\"name\": \"1940\", \"multiplier\": 0.68}}]");
  campaignTrail_temp.global_parameter_json = JSON.parse("[{\"model\": \"campaign_trail.global_parameter\", \"pk\": 1, \"fields\": {\"vote_variable\": 1.125, \"max_swing\": 0.12, \"start_point\": 0.94, \"candidate_issue_weight\": 10.0, \"running_mate_issue_weight\": 0.0, \"issue_stance_1_max\": -0.71, \"issue_stance_2_max\": -0.3, \"issue_stance_3_max\": -0.125, \"issue_stance_4_max\": 0.125, \"issue_stance_5_max\": 0.3, \"issue_stance_6_max\": 0.71, \"global_variance\": 0.01, \"state_variance\": 0.005, \"question_count\": 25, \"default_map_color_hex\": \"#C9C9C9\", \"no_state_map_color_hex\": \"#999999\"}}]");
  campaignTrail_temp.candidate_dropout_json = JSON.parse("[{\"model\": \"campaign_trail.candidate_dropout\", \"pk\": 1, \"fields\": {\"candidate\": 36, \"affected_candidate\": 18, \"probability\": 1.0}}]");
  campaignTrail_temp.temp_election_list = [{"id": 11, "year": 2002, "is_premium": 0, "display_year": "2003NL"}];
  campaignTrail_temp.show_premium = true;
  campaignTrail_temp.premier_ab_test_version = -1;
  campaignTrail_temp.credits = "<button onclick='credits()'>Thomahawk2k</button>";
    
  credits = function() {
    credits = ["CODER", "Thomahawk2k", "Keke", "", "WRITERS",  "Thomahawk2k", "Zim", "", "PLAYTESTERS", "Keke", "Crazy", "Exeter", "", "", "PROOFREADERS", "Keke", "Exeter", "", "DecstarG/the 2000N team for the more versatile and stable endings system.", "Thomahawk2k's uncle for the D'Hondt electoral system.", "Obummer/the 1968Romney team for the mid-game replaced candidates.", "nina_96 for the coalition system and some other advanced scripting. I encourage everyone to play her 2021 Germany mod when it comes out.", "Decstar for the CampaignScript, massively speeding up the work.", "Keke for devising the system calculating whether one wins the Eerste Kamer elections shortly after 2003 election.", ""]
    text = "CREDITS:\n\n"
    for (i in credits) {
        text += credits[i] + "\n"
    }
    alert(text)
  }

  HistHexcolour=["#D90000","#DBD000", "#B56B21", "#B7ABF4"]; HistName=[" Party Cartel"," Our progenitors", " Friends from Urk", " Cartel Wannabe's"]; HistEV=[120,26,2,2]; HistPV=["7,583,808","1,614,801", "153,055", "163,562"]; HistPVP=["79.3%","17.0%", "1.7%", "1.6%"];

  quotes = [`Betrokken samenleving, betrouwbare overheid`, `Politiek is passie`, `De VVD maakt werk van Nederland`, `Voor verantwoordelijkheid, respect en solidariteit`, `Protest en perspectief`, `Eerste weg links`, `Juist nu`, `Samen leven naar bijbelse waarden`, `Tot uw dienst`]
  customquote = quotes[Math.floor((Math.random() * quotes.length))]

  corrr="\n<h2>OPNIEUW OP CAMPAGNE</h2><font id='wittyquote' size='4' color='white'><em>" + customquote + "</em></font>"

document.getElementById("header").src = "https://i.imgur.com/uY0rsby.png"
$("#game_window")[0].style.backgroundImage = "url(https://i.imgur.com/F5zlsSK.png)";
nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#FF9900"
nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#F7AB6F"
document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title
$(".container")[0].style.backgroundColor = "#C97800"
document.body.background = "https://i.imgur.com/cqOezGA.jpg"

// Style radio buttons to look like Dutch ballot boxes
const style = document.createElement('style');
style.textContent = `
    input[type="radio"] {
        appearance: none;
        -webkit-appearance: none;
        width: 17px;
        height: 17px;
        background-color: #000000;
        border: none;
        cursor: pointer;
        position: relative;
        margin-right: 8px;
        margin-bottom: 5px;
        vertical-align: middle;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        transition: background-color 0.2s;
    }
   
    input[type="radio"]:hover {
        background-color: #333333;
    }
   
    input[type="radio"]::before {
        content: '';
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background-color: #ffffff;
        border: 1px solid #ffffff;
        transition: background-color 0.2s;
    }
   
    input[type="radio"]:hover::before {
        background-color: #FFDBDB;
        border: 1px solid #ffffff;
    }
   
    input[type="radio"]:checked::before {
        background-color: #ff0000;
        border: 1px solid #ffffff;
    }
   
    input[type="radio"]:checked:hover::before {
        background-color: #cc0000;
    }
`;
document.head.appendChild(style);

// Check if redirected from another NL mod and hasn't run before
if (!window.autoStartExecuted && window.location.search.includes('from=othernlmod')) {
    window.autoStartExecuted = true; // Set flag to prevent multiple executions
    setTimeout(function() {
        const startButton = document.getElementById('game_start');
        if (startButton) startButton.click();
    }, 100);
}

function modifyElectionSelect() {
  const select = document.querySelector('select[name="election_id"]');
  if (select) {
      // Create 2002 option
      const option2002 = document.createElement('option');
      option2002.value = "2002";
      option2002.textContent = "2002NL";

      // Add 2017 option
      const option2017 = document.createElement('option');
      option2017.value = "2017"; 
      option2017.textContent = "2017NL";

      // Add 2023 option
      const option2023 = document.createElement('option');
      option2023.value = "2023"; 
      option2023.textContent = "2023NL";

      // Insert 2002 before existing option
      select.insertBefore(option2002, select.firstChild);
      
      // Add 2017 after existing option
      select.appendChild(option2017);

      // Add 2023 after existing option
      select.appendChild(option2023);

      // Add change handler
      select.addEventListener('change', function() {
          if (this.value === "2002") {
              window.location.href = "https://campaigntrailshowcase.com/campaign-trail/?modName=2002NL&from=othernlmod";
          }
          else if (this.value === "2017") {
              window.location.href = "https://campaigntrailshowcase.com/campaign-trail/?modName=2017NL&from=othernlmod";
          }
          else if (this.value === "2023") {
            window.location.href = "https://campaigntrailshowcase.com/campaign-trail/?modName=2023NL&from=othernlmod";
          }
      });
  }
}

// Add listener for the back button
document.addEventListener('click', function(e) {
    if (e.target && e.target.id === 'candidate_id_back') {
        setTimeout(modifyElectionSelect, 100); // Small delay to ensure DOM is updated
    }
});

// Create observer to watch for select element
const selectObserver = new MutationObserver(function(mutations) {
    if (document.querySelector('select[name="election_id"]')) {
        modifyElectionSelect();
        selectObserver.disconnect();
    }
});

selectObserver.observe(document.documentElement, {
  childList: true,
  subtree: true
});

var element = document.getElementById('my-invisible-element');
if(!element){
function changeIntroDescription() {
  introObserver.disconnect();

  const introTitle = document.querySelector("#inner_window_1 h3");
  const listItems = document.querySelectorAll("#inner_window_1 ul li");

  if (introTitle) {
    introTitle.textContent = "Do you have what it takes to win a General Election?";
  }

  if (listItems) {
    listItems.forEach(item => {
      if (item.textContent.includes('candidate')) {
        item.textContent = item.textContent.replace('candidate', 'party');
      }
      if (item.textContent.includes('states')) {
        item.textContent = item.textContent.replace('states', 'provinces');
      }
      if (item.textContent.includes('Walk the fine line between appealing to your base and winning a majority of the votes.')) {
        item.textContent = 'Win as many votes as possible without alienating your future coalition partners.';
      }
    });
  }

  introObserver.observe(document.documentElement, { childList: true, subtree: true });
}
if(!introObserver){
  var introObserver = new MutationObserver(changeIntroDescription);
  introObserver.observe(document.documentElement, { childList: true, subtree: true });
}
function modifyForm(){
  modifiedFormobserver.disconnect();

  const form = document.querySelector('form[name="game_type_selection"]');

  if (form) {
    const select = form.querySelector('select[name="game_type_id"]');
    const h3 = form.querySelector('h3');
    const option = select.querySelector('option[value="1"]');

    if (option && option.textContent !== 'Default (D\'Hondt Proportional)') {
      option.textContent = 'Default (D\'Hondt Proportional)';
    }
    if (select && select.querySelector('option[value="2"]')) {
      const queryTwo = select.querySelector('option[value="2"]');
      if (queryTwo) {
        queryTwo.remove();
      }
    }
    if (h3 && h3.textContent !== 'How would you like the seats to be allocated?') {
      h3.textContent = 'How would you like the seats to be allocated?';
    }
  }
  modifiedFormobserver.observe(document.documentElement, { childList: true, subtree: true });
}
if(!modifiedFormobserver){
  var modifiedFormobserver = new MutationObserver(modifyForm);
  modifiedFormobserver.observe(document.documentElement, { childList: true, subtree: true });
}
function changeOpponentSelectionDescription() {
  selectionObserver.disconnect();

  const opponentSelectionDescription = document.getElementById("opponent_selection_description_window");
  
  if (opponentSelectionDescription) {
    opponentSelectionDescription.innerHTML = `<p><strong>Use the default method of allocating seats in the Dutch House of Representatives.</strong></p><p>The Netherlands use a nationwide list-based proportional system. After all the votes have been tallied, successive quotients are calculated for each party. The party with the largest quotient wins one seat, and its quotient is recalculated. This is repeated until the required number of seats is filled.</p><p>This method means every vote is worth nearly the same. It also makes it very easy for small parties to win seats. On the other hand, it is nearly impossible for a single party to win a majority of the seats.</p>`;
  }
  selectionObserver.observe(document.documentElement, { childList: true, subtree: true });
}
if(!selectionObserver){
  var selectionObserver = new MutationObserver(changeOpponentSelectionDescription);
  selectionObserver.observe(document.documentElement, { childList: true, subtree: true });
}
function updateCandidateForm() {
  formobserver.disconnect();
  const heading = document.querySelector("#candidate_form form h3");

  if (heading) {
    heading.textContent = "Please select your party:";
  }
  formobserver.observe(document.documentElement, { childList: true, subtree: true });
}
if(!formobserver){
  var formobserver = new MutationObserver(updateCandidateForm);
  formobserver.observe(document.documentElement, { childList: true, subtree: true });
}
function updateRunningMateForm() {
  runformobserver.disconnect();
  const heading = document.querySelector("#running_mate_form form h3");

  if (heading) {
    heading.textContent = "Please select your candidate:";
  }
  runformobserver.observe(document.documentElement, { childList: true, subtree: true });
}
if(!runformobserver){
var runformobserver = new MutationObserver(updateRunningMateForm);
runformobserver.observe(document.documentElement, { childList: true, subtree: true });
}

function removeCandidateSummary() {
  sumobserver.disconnect();
  const candidateSummary = document.querySelector("#candidate_summary");
  if (candidateSummary) {
    const ulList = candidateSummary.querySelector("ul");
    if (ulList) {
      candidateSummary.removeChild(ulList);
    }
  }
  sumobserver.observe(document.body, {childList: true,subtree: true});
}
if(!sumobserver){
var sumobserver = new MutationObserver(removeCandidateSummary);
sumobserver.observe(document.body, {childList: true,subtree: true});
}

function updateHeader() {
  var gameHeader = document.getElementsByClassName("game_header")[0];

  if (gameHeader.getAttribute("id") !== "modifiedHeader") {
    gameHeader.innerHTML = corrr;
    gameHeader.style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;
    gameHeader.setAttribute("id", "modifiedHeader");
  }
}

var headerobserver = new MutationObserver(updateHeader);
headerobserver.observe(document.documentElement, { childList: true, subtree: true });

var invisibleElement = document.createElement('div');
invisibleElement.style.display = 'none';
invisibleElement.id = 'my-invisible-element';
document.body.appendChild(invisibleElement);
}

function addDynamicCSS() {
    var css = `
        .inner_window_question h3 .mytooltip{
            background-color: #F7AB6F;
        }

        .mytooltip {
            position: relative;
            display: inline-block;
            cursor: pointer;
            background-color: #F7AB6F;
        }

        .mytooltip .mytooltiptext {
            width: 240px;
            background-color: #cea669;
            color: black;
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 99;
            bottom: 20%;
            left: 20%;
            margin-left: -90px;
            opacity: 0;
            transition: opacity 0.3s;
            border: 1px solid black;
            pointer-events: none;
            font-size: 13px !important;
            line-height: 1.5em !important;
            font-weight: normal !important;
            font-style: normal !important;
        }

        .mytooltip .mytooltiptext img {
            max-width: 240px;
            height: auto;
        }

        .mytooltip:hover .mytooltiptext {
            opacity: 1;
            transition-delay: 0.5s;
        }
    `;

    var styleElem = document.createElement('style');
    styleElem.type = 'text/css';
    
    styleElem.appendChild(document.createTextNode(css));
    
    document.head.appendChild(styleElem);
}


addDynamicCSS();

tooltipList = [
    {searchString: "Tweede Kamer", explanationText: "The Second Chamber of the States-General is the lower house of Dutch parliament. It is proportionally elected by the Dutch people and also known as the 'House of Representatives'."},
    {searchString: "Eerste Kamer", explanationText: "The First Chamber of the States-General is the upper house of Dutch parliament. It is elected by the provincial legislatures and also known as the 'Senate'. Though only meant to judge the legality of proposed laws, it has grown increasingly political in recent years."},
    {searchString: "Zalmnorm", explanationText: "The new rule for government expenditure introduced by Purple finance minister Gerrit Zalm: when the government has an unexpected financial windfall, that is used to pay back the national debt rather than immediately spent."},
    {searchString: "Purple", explanationText: "The previous cabinet: named so because of the PvdA (red) and VVD (blue)."},
    {searchString: "gedoogbeleid", explanationText: "Purple has introduced the rule that even though possession of small amounts of cannabis is forbidden, the government will not prosecute any offenders for it."},
    {searchString: "euthanasia", explanationText: "Assisted suicide as part of end-of-life care."},
    {searchString: "red north", explanationText: "The northern provinces of Friesland, Groningen and Drenthe were historically a socialist stronghold."},
    {searchString: "Prince's Day", explanationText: "'Prinsjesdag' is the yearly ceremony where the king reads out the cabinet's plans for the next year at the ridderzaal on the Binnenhof and next year's budget is presented after having been leaked a few days earlier."},
    {searchString: "CBS", explanationText: "'Het Centraal Bureau voor de Statistiek' or 'the Central Bureau for Statistics' is the government agency in the Netherlands that gathers statistical information to advise the government, from economics to demographics and everything in between."},
    {searchString: "Leefbaren", explanationText: "Local parties named 'livable [municipality name], which swept the local elections over the course of the 90s."},
    {searchString: "WAO", explanationText: "The social security system that ensures you have an income even if you are unable to hold a stable job because you are sick long-term."},
    {searchString: "Melkertbanen", explanationText: "Low-skilled jobs that were introduced by Social Affairs Minister Ad Melkert to combat the widespread unemployment in the early 90s."},
    {searchString: "Nolens doctrine", explanationText: "Named after the leader of the Roman Catholic State Party in the 1920s, Willem Nolens, the Nolens doctrine states the Christian democrats should only form a coalition with socialists when it is 'of utmost necessity'."},
    {searchString: "Carrington doctrine", explanationText: "Named after the British foreign minister Lord Carrington who resigned following the Argentinian invasion of the Falklands, the Carrington doctrine is an invention of Frits Bolkestein which states that ministers and state secretaries must resign on their own when they made a severe mistake."},
    {searchString: "Onroerende Zaakbelasting", explanationText: "The real estate tax. The single most important source of income for Dutch municipalities. And a thorn in the eye of VVD-voting homeowners."},
    {searchString: "OZB", explanationText: "The real estate tax. The single most important source of income for Dutch municipalities. And a thorn in the eye of VVD-voting homeowners."},
    {searchString: "gymnasium", explanationText: "High school level preparing for an education at university, featuring lessons in Latin and Koine Greek."},
    {searchString: "Geert Wilders", explanationText: "<img src=https://i.imgur.com/Do50sQa.png><br>Frits Bolkestein's most loyal proteg√©."},
    {searchString: "Gerrit Zalm", explanationText: "<img src=https://i.imgur.com/VvjB9kZ.png><br>Purple's finance minister and architect of our current prosperity."},
    {searchString: "Frans Timmermans", explanationText: "<img src=https://i.imgur.com/iFhIEac.png><br>The defense spokesman of the PvdA. JSF hater."},
    {searchString: "Wim Kok", explanationText: "<img src=https://i.imgur.com/R0wU7W4.png><br>The PvdA prime minister of the Netherlands before Jan Peter Balkenende. Generally held in higher regard."},
    {searchString: "Frits Bolkestein", explanationText: "<img src=https://i.imgur.com/cpS0C8X.png><br>Leader of the VVD between 1990 and 1998. He made the VVD larger than the CDA for the first time and even made the party the largest of the country for the first time during the 1995 Provincial Elections."},
    {searchString: "hypotheekrenteaftrek", explanationText: "An income tax break for homeowners with a mortgage. Many are reliant on this tax break to make ends meet."},
    {searchString: "Ad Melkert", explanationText: "<img src=https://i.imgur.com/O7J82tw.png><br>The leader of the PvdA in 2002, known for his polarizing tone against Pim Fortuyn and disgraced when Fortuyn was murdered."},
    {searchString: "Pim Fortuyn", explanationText: "<img src=https://i.imgur.com/eMM9WeH.png><br>The late Pim Fortuyn was an outsider running with his own list, until he was murdered in broad daylight by an animal rights activist."},
    {searchString: "Fortuyn", explanationText: "<img src=https://i.imgur.com/eMM9WeH.png><br>The late Pim Fortuyn was an outsider running with his own list, until he was murdered in broad daylight by an animal rights activist."},
    {searchString: "Ziekenfonds", explanationText: "A public-private institution that ensures a minimum standard of healthcare to all Dutch people, with income-dependent premiums. Some people are instead privately insured. The system has come under fire recently due to the length of the waiting lists."},
    {searchString: "Lijstverbinding", explanationText: "Literally 'list connection', this system allows multiple lists to be counted together when calculating rest seats under the d'Hondt method. This ensures that if your party comes just short for an extra seat, odds are they go to the party with which one has a list connection rather than the first next party with the highest average."},
    {searchString: "lijstverbinding", explanationText: "Literally 'list connection', this system allows multiple lists to be counted together when calculating rest seats under the d'Hondt method. This ensures that if your party comes just short for an extra seat, odds are they go to the party with which one has a list connection rather than the first next party with the highest average."},
    {searchString: "Spaarloon", explanationText: "A fiscal construction that allows employees to save a small amount of money without having to pay income tax over it."},
    {searchString: "spaarloon", explanationText: "A fiscal construction that allows employees to save a small amount of money without having to pay income tax over it."},
    {searchString: "10 states of the former Eastern Bloc", explanationText: "<img src=https://i.imgur.com/A5nAxGG.png>"},
    {searchString: "ten countries in Eastern Europe", explanationText: "<img src=https://i.imgur.com/A5nAxGG.png>"},
    {searchString: "Ten countries, including Poland", explanationText: "<img src=https://i.imgur.com/A5nAxGG.png>"},
    {searchString: "Poland and nine other countries", explanationText: "<img src=https://i.imgur.com/A5nAxGG.png>"},
    {searchString: "Ayaan Hirsi Ali", explanationText: "<img src=https://i.imgur.com/TVGEShI.png><br>A Somali-born women's rights activist with political ambitions."},
    {searchString: "Wiardi Beckman Foundation", explanationText: "The scientific bureau of the PvdA."},
    {searchString: "Hoogervorst", explanationText: "<img src=https://i.imgur.com/94TI7q5.png><br>The incumbent VVD-minister of Finance. He oversees the portfolio Economic Affairs since Heinsbroek's departure."},
    {searchString: "SER", explanationText: "The Social Economic Council: an advisory board of entrepeneurs, employees and independent experts. It played a large role in the development of the Dutch welfare state."},
    {searchString: "CPB", explanationText: "The Central Plan Bureau: a government institution that makes economic prognoses and analyses. During elections it calculates the economic effects of the plans of each of the political parties, should they so desire."},
    {searchString: "Albert Heijn", explanationText: "The largest supermarket chain in the Netherlands."},
    {searchString: "Prince Bernhard", explanationText: "<img src=https://i.imgur.com/WUCUmcl.png><br>The German father of the queen and former prince-consort. And yes, by the way, he does have a NSDAP membership card. And no, you cannot see it. It's for the ladies' eyes only."},
    {searchString: "Prince Claus", explanationText: "The prince-consort who recently passed away. A German born in 1926, yet without a questionable past."},
    {searchString: "Prince Claus'", explanationText: "The prince-consort who recently passed away. A German born in 1926, yet without a questionable past."},
    {searchString: "quarter of Kok", explanationText: "One of the measures taken by then-Minister of Finance Wim Kok to balance the budget during the crisis in 1991: increasing the excise tax on gasoline by 25 cents (in guilders, not euro's). The promise was that this measure was temporary, but it remains remarkably persistent."},
    {searchString: "Remkes", explanationText: "The incumbent VVD-minister of the Interior and Kingdom Relations."},
    {searchString: "Den Uyl", explanationText: "The PvdA prime minister between 1972 and 1977. A real social democrat, unlike these Third Way extracts of today."},
    {searchString: "Job Cohen", explanationText: "<img src=https://i.imgur.com/Ijd0aCA.png><br>State Secretary of Justice in Purple II, until he became the mayor of Amsterdam in 2001."},
    {searchString: "Johan Stekelenburg", explanationText: "<img src=https://i.imgur.com/awKKOWf.png><br>Long-time union leader in the FNV, senator, and, since 1997, mayor of university-city Tilburg in Noord-Brabant."},
    {searchString: "Bomhoff", explanationText: "<img src=https://i.imgur.com/tDMJOL2.png><br>Ding, ding, ding! The LPF's deputy prime minister and minister of Healthcare really likes to ring his bell when Herman Heinsbroek speaks."},
    {searchString: "Heinsbroek", explanationText: "<img src=https://i.imgur.com/J4zgguc.png><br>This self-made millionnaire, who was asked by his neighbor to become minister of Economic Affairs, would've really liked to become deputy prime minister."},
    {searchString: "Hilbrand Nawijn", explanationText: "<img src=https://i.imgur.com/xaAnVFY.png><br>Formerly the director of the immigration and naturalisation service (IND), now the LPF Minister for Foreigner Affairs."},
    {searchString: "Nawijn", explanationText: "<img src=https://i.imgur.com/xaAnVFY.png><br>Formerly the director of the immigration and naturalisation service (IND), now the LPF Minister for Foreigner Affairs."},
    {searchString: "Pronk", explanationText: "<img src=https://i.imgur.com/9foVciU.png><br>Minister in the cabinets Den Uyl, Lubbers III, Kok I and Kok II, and prominent member of the left wing of the PvdA."},
    {searchString: "De Hoop Scheffer", explanationText: "<img src=https://i.imgur.com/f6m1XvY.png><br>Balkenende's predecessor as CDA leader, and incumbent minister of Foreign Affairs."},
    {searchString: "ME", explanationText: "Mobiele Eenheid or Mobile Unit, which is deployed in case of large scale riots."},
    {searchString: "Benk Korthals", explanationText: "<img src=https://i.imgur.com/G4WxUU4.png><br>A VVD veteran who has been an MP between 1982 and 1998, minister of Justice in the second Kok cabinet and who is Minister of Defense today."},
    {searchString: "Benk", explanationText: "<img src=https://i.imgur.com/G4WxUU4.png><br>A VVD veteran who has been an MP between 1982 and 1998, minister of Justice in the second Kok cabinet and who is Minister of Defense today."},
    {searchString: "Korthals", explanationText: "<img src=https://i.imgur.com/G4WxUU4.png><br>A VVD veteran who has been an MP between 1982 and 1998, minister of Justice in the second Kok cabinet and who is Minister of Defense today."},
    {searchString: "Bijlhout", explanationText: "<img src=https://i.imgur.com/0kMO9pe.png><br>This LPF state secretary of Social Affairs and Employment was in office for a whole nine hours when photographs were discovered of her taking part in a civilian militia in support of then-military dictator Desi Bouterse of Suriname."},
    {searchString: "Van Eijck", explanationText: "<img src=https://i.imgur.com/txEhGfb.png><br>The LPF's state secretary of Finance."}

  ];

campaignTrail_temp.modBoxTheme = {
    "header_color" : "#F7AB6F",
    "header_text_color" : "#000000",
    "description_text_color" : "#000000",
    "description_background_color" : "#F7C788",
    "main_color" : "#FF9900",
    "secondary_color" : "#C97800",
    "ui_text_color": "#000000"
}

campaignTrail_temp.achievements = {
    "Groundhog day!" : {
        "image" : "https://i.imgur.com/dwkCNLI.png",
        "description" : "Have the same map as 2002 and form a CDA-VVD-LPF cabinet.",
        "cannotBeCheated" : true
    },
    "Premonition" : {
        "image" : "https://i.imgur.com/uzGe8no.png",
        "description" : "Have the same map as 2006 and form a CDA-PvdA-CU cabinet",
        "cannotBeCheated" : true
    },
    "No nonsense" : {
        "image" : "https://i.imgur.com/5KOkJ9h.png",
        "description" : "Successfully remove the LPF from your cabinet.",
        "cannotBeCheated" : true
    },
    "Raising speed limits" : {
        "image" : "https://i.imgur.com/ObRqdZi.png",
        "description" : "Have the fastest formation in history.",
        "cannotBeCheated" : true
    },
    "Keine Experimente" : {
        "image" : "https://i.imgur.com/SRA1pfc.png",
        "description" : "Win and form a purple cabinet as the PvdA.",
        "cannotBeCheated" : true
    },
    "Houthakker" : {
        "image" : "https://i.imgur.com/d51WkrA.png",
        "description" : "Defeat Bos in the PvdA leadership election.",
        "cannotBeCheated" : true
    },
    "Jij, ik, wij!" : {
        "image" : "https://i.imgur.com/85uWLQC.png",
        "description" : "Win as the SP.",
        "cannotBeCheated" : true
    },
    "Zwarte Pieter" : {
        "image" : "https://i.imgur.com/pKnjb2q.png",
        "description" : "As an opponent of the CDA, prevent Pieter Omtzigt from being elected.",
        "cannotBeCheated" : true
    },
    "Sui generis" : {
        "image" : "https://i.imgur.com/0V8Z4FO.png",
        "description" : "Form the PvdA-SP-GL-D66 cabinet and win it a majority in the Eerste Kamer too.",
        "cannotBeCheated" : true
    },
    "We rule this country!" : {
        "image" : "https://i.imgur.com/H7hawNY.png",
        "description" : "As one of them, have the CDA, PvdA and VVD win a combined 120 seats or more.",
        "cannotBeCheated" : true
    }
}

RecReading = true;
e.collect_results = true;